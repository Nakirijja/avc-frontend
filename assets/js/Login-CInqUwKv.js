import{_ as b,i as h,a as l,o as i,b as o,q as v,d as c,s as a,v as p,j as u,u as y,w as f,m as n,t as g,p as _,x as w}from"./index-DSpDc2Ld.js";const x={name:"LoginView",data(){return{form:{email:"",password:"",remember:!1},loading:!1,error:""}},methods:{async handleLogin(){this.loading=!0,this.error="";try{console.log("Attempting login...");const r=await _.auth.login(this.form);console.log("Login response:",r),w.storeAuthData(r),this.$router.push("/dashboard")}catch(r){console.error("Login error:",r),this.error=r.response?.data?.detail||"Login failed. Please check your credentials."}finally{this.loading=!1}}}},k={class:"auth-page min-vh-100 d-flex align-items-center justify-content-center"},V={class:"container"},L={class:"row justify-content-center"},S={class:"col-md-6 col-lg-5"},C={class:"card shadow-lg border-0"},j={class:"card-body p-5"},A={class:"mb-3"},D={class:"mb-3"},N={class:"d-flex justify-content-between align-items-center mb-3"},q={class:"form-check"},B=["disabled"],E={key:0,class:"spinner-border spinner-border-sm me-2"},M={key:0,class:"alert alert-danger mt-3"},P={class:"text-center mt-4"},U={class:"mb-0"};function I(r,e,T,F,s,d){const m=h("router-link");return i(),l("div",k,[o("div",V,[o("div",L,[o("div",S,[o("div",C,[o("div",j,[e[11]||(e[11]=o("div",{class:"text-center mb-4"},[o("i",{class:"fas fa-music fa-3x text-primary mb-3"}),o("h2",{class:"h3 fw-bold"},"Welcome to AVC Choir"),o("p",{class:"text-muted"},"Sign in to your account")],-1)),o("form",{onSubmit:e[3]||(e[3]=v((...t)=>d.handleLogin&&d.handleLogin(...t),["prevent"]))},[o("div",A,[e[4]||(e[4]=o("label",{class:"form-label"},"Email Address",-1)),a(o("input",{type:"email",class:"form-control form-control-lg","onUpdate:modelValue":e[0]||(e[0]=t=>s.form.email=t),placeholder:"your@email.com",required:""},null,512),[[p,s.form.email]])]),o("div",D,[e[5]||(e[5]=o("label",{class:"form-label"},"Password",-1)),a(o("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":e[1]||(e[1]=t=>s.form.password=t),placeholder:"Enter your password",required:""},null,512),[[p,s.form.password]])]),o("div",N,[o("div",q,[a(o("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[2]||(e[2]=t=>s.form.remember=t)},null,512),[[y,s.form.remember]]),e[6]||(e[6]=o("label",{class:"form-check-label"},"Remember me",-1))]),u(m,{to:"/auth/forgot-password",class:"text-decoration-none small text-primary fw-semibold"},{default:f(()=>[...e[7]||(e[7]=[n(" Forgot Password? ",-1)])]),_:1})]),o("button",{type:"submit",class:"btn btn-primary btn-lg w-100 py-3",disabled:s.loading},[s.loading?(i(),l("span",E)):c("",!0),n(" "+g(s.loading?"Signing in...":"Sign In"),1)],8,B),s.error?(i(),l("div",M,[e[8]||(e[8]=o("i",{class:"fas fa-exclamation-circle me-2"},null,-1)),n(" "+g(s.error),1)])):c("",!0)],32),o("div",P,[o("p",U,[e[10]||(e[10]=n(" Don't have an account? ",-1)),u(m,{to:"/auth/register",class:"text-decoration-none fw-semibold"},{default:f(()=>[...e[9]||(e[9]=[n(" Sign up here ",-1)])]),_:1})])])])])])])])])}const R=b(x,[["render",I],["__scopeId","data-v-c3f45515"]]);export{R as default};
