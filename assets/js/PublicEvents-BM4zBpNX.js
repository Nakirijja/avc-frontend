import{M as u}from"./bootstrap.esm-C02OvDcj.js";import{_ as g,a as i,o,l as f,b as e,d as r,F as _,r as h,t as l,m as c,n as p,p as y}from"./index-DSpDc2Ld.js";const E={name:"PublicEvents",data(){return{events:[],selectedEvent:null,loading:!0}},methods:{async fetchEvents(){this.loading=!0;try{const s=await y.events.getAll();console.log("Events API response:",s.data),this.events=s.data.results||s.data,this.events.forEach(t=>{console.log(`Event: ${t.title}`,`Image: ${t.image}`)})}catch(s){console.error("Failed to load events:",s),this.events=[]}finally{this.loading=!1}},getEventImage(s){return!s||s.trim()===""?this.generatePlaceholder():s},generatePlaceholder(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM2NjdFRUEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3NjRCQTIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2cpIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5FdmVudCBJbWFnZTwvdGV4dD48L3N2Zz4="},handleImageError(s){console.log("Image failed to load, using placeholder"),s.target.src=this.generatePlaceholder()},handleModalImageError(s){s.target.style.display="none";const t=s.target.closest(".modal-image-container"),m=t.querySelector(".modal-placeholder")||t.parentElement.querySelector(".modal-placeholder");m&&(m.style.display="flex")},formatDate(s){return s?new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""},formatTime(s){return s?new Date(s).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):""},getEventDay(s){return s?new Date(s).getDate():""},getEventMonth(s){return s?new Date(s).toLocaleDateString(void 0,{month:"short"}).toUpperCase():""},getEventCategory(s){return s?s.category||"Music Event":"General"},getEventType(s){return s.is_public?"Public":s.is_free?"Free":"Members Only"},getEventTypeClass(s){return this.getEventType(s).toLowerCase().replace(" ","-")},truncate(s,t){return s?s.length>t?s.substring(0,t)+"...":s:""},viewEvent(s){this.selectedEvent=s;const t=document.getElementById("eventModal");new u(t).show()}},mounted(){this.fetchEvents()}},I={class:"events-page"},b={class:"container py-5"},w={key:0,class:"text-center py-5"},C={key:1,class:"row g-4"},M={class:"event-card h-100"},x={class:"event-image-container"},k={class:"image-wrapper"},D=["src","alt"],Z={class:"event-date-badge"},P={class:"date-day"},T={class:"date-month"},L={class:"event-overlay"},N=["onClick"],S={class:"event-content"},G={class:"event-category"},j={class:"event-title"},z={class:"event-meta"},A={class:"meta-item"},B={key:0,class:"meta-item"},R={class:"event-description"},V={class:"event-actions"},W=["onClick"],J={key:0,class:"col-12 text-center py-5"},F={class:"modal fade",id:"eventModal",tabindex:"-1"},H={class:"modal-dialog modal-lg modal-dialog-centered"},Q={class:"modal-content event-modal-content"},U={class:"modal-header"},Y={class:"modal-header-content"},X={class:"modal-title"},q={class:"modal-category"},O={class:"modal-body p-0"},K={class:"modal-image-container"},$={class:"modal-image-wrapper"},ee=["src","alt"],te={key:1,class:"modal-placeholder"},se={class:"modal-date-overlay"},ae={class:"modal-date"},ne={class:"modal-date-day"},le={class:"modal-date-month"},de={class:"modal-details p-4"},ie={class:"detail-grid"},oe={class:"detail-item"},re={key:0,class:"text-muted"},ce={key:0,class:"detail-item"},me={key:0,class:"text-muted"},ve={class:"event-description-full"},ue={key:0,class:"event-notes"},ge={class:"modal-footer"},fe={key:0,class:"btn btn-primary"};function _e(s,t,m,he,a,n){return o(),i("div",I,[t[18]||(t[18]=f('<section class="events-hero text-white py-5" data-v-dd6af8f5><div class="hero-overlay" data-v-dd6af8f5></div><div class="container py-5" data-v-dd6af8f5><div class="row justify-content-center text-center" data-v-dd6af8f5><div class="col-lg-8" data-v-dd6af8f5><h1 class="display-4 fw-bold mb-4" data-v-dd6af8f5>Upcoming Events</h1><p class="lead hero-subtitle" data-v-dd6af8f5>Join us for unforgettable musical experiences and community gatherings</p><div class="hero-stats mt-4" data-v-dd6af8f5><div class="stat-item" data-v-dd6af8f5><i class="fas fa-music" data-v-dd6af8f5></i><span data-v-dd6af8f5>Live Performances</span></div><div class="stat-item" data-v-dd6af8f5><i class="fas fa-users" data-v-dd6af8f5></i><span data-v-dd6af8f5>Community Events</span></div><div class="stat-item" data-v-dd6af8f5><i class="fas fa-calendar-alt" data-v-dd6af8f5></i><span data-v-dd6af8f5>Regular Updates</span></div></div></div></div></div></section>',1)),e("div",b,[a.loading?(o(),i("div",w,[...t[2]||(t[2]=[e("div",{class:"loading-spinner"},[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")]),e("p",{class:"mt-3 text-muted"},"Loading amazing events...")],-1)])])):(o(),i("div",C,[(o(!0),i(_,null,h(a.events,d=>(o(),i("div",{key:d.id,class:"col-md-6 col-lg-4"},[e("div",M,[e("div",x,[e("div",k,[e("img",{src:n.getEventImage(d.image),class:"event-image",alt:d.title+" image",onError:t[0]||(t[0]=(...v)=>n.handleImageError&&n.handleImageError(...v))},null,40,D)]),e("div",Z,[e("span",P,l(n.getEventDay(d.start_date)),1),e("span",T,l(n.getEventMonth(d.start_date)),1)]),e("div",L,[e("button",{class:"btn-view-details",onClick:v=>n.viewEvent(d)},[...t[3]||(t[3]=[e("i",{class:"fas fa-eye me-2"},null,-1),c(" View Details ",-1)])],8,N)])]),e("div",S,[e("div",G,[t[4]||(t[4]=e("i",{class:"fas fa-tag me-2"},null,-1)),c(" "+l(n.getEventCategory(d)),1)]),e("h5",j,l(d.title),1),e("div",z,[e("div",A,[t[5]||(t[5]=e("i",{class:"fas fa-clock me-2"},null,-1)),c(" "+l(n.formatTime(d.start_date)),1)]),d.location?(o(),i("div",B,[t[6]||(t[6]=e("i",{class:"fas fa-map-marker-alt me-2"},null,-1)),c(" "+l(n.truncate(d.location,25)),1)])):r("",!0)]),e("p",R,l(n.truncate(d.description,100)),1),e("div",V,[e("button",{class:"btn btn-primary btn-sm",onClick:v=>n.viewEvent(d)}," Learn More ",8,W),e("div",{class:p(["event-type-indicator",n.getEventTypeClass(d)])},l(n.getEventType(d)),3)])])])]))),128)),a.events.length===0?(o(),i("div",J,[...t[7]||(t[7]=[e("div",{class:"empty-state"},[e("i",{class:"fas fa-calendar-times fa-3x text-muted mb-3"}),e("h4",{class:"text-muted"},"No Events Scheduled"),e("p",{class:"text-muted"},"We're preparing some amazing events. Check back soon!")],-1)])])):r("",!0)]))]),e("div",F,[e("div",H,[e("div",Q,[e("div",U,[e("div",Y,[e("h5",X,l(a.selectedEvent?.title),1),e("div",q,l(n.getEventCategory(a.selectedEvent)),1)]),t[8]||(t[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},null,-1))]),e("div",O,[e("div",K,[e("div",$,[a.selectedEvent?.image?(o(),i("img",{key:0,src:a.selectedEvent.image,class:"modal-image",alt:a.selectedEvent.title+" image",onError:t[1]||(t[1]=(...d)=>n.handleModalImageError&&n.handleModalImageError(...d))},null,40,ee)):(o(),i("div",te,[...t[9]||(t[9]=[e("i",{class:"fas fa-music fa-3x text-muted mb-3"},null,-1),e("span",{class:"text-muted"},"Event Image",-1)])]))]),e("div",se,[e("div",ae,[e("span",ne,l(n.getEventDay(a.selectedEvent?.start_date)),1),e("span",le,l(n.getEventMonth(a.selectedEvent?.start_date)),1)])])]),e("div",de,[e("div",ie,[e("div",oe,[t[11]||(t[11]=e("i",{class:"fas fa-calendar-alt"},null,-1)),e("div",null,[t[10]||(t[10]=e("strong",null,"Date & Time",-1)),e("p",null,l(n.formatDate(a.selectedEvent?.start_date))+" at "+l(n.formatTime(a.selectedEvent?.start_date)),1),a.selectedEvent?.end_date?(o(),i("span",re," Ends: "+l(n.formatDate(a.selectedEvent.end_date)),1)):r("",!0)])]),a.selectedEvent?.location?(o(),i("div",ce,[t[13]||(t[13]=e("i",{class:"fas fa-map-marker-alt"},null,-1)),e("div",null,[t[12]||(t[12]=e("strong",null,"Location",-1)),e("p",null,l(a.selectedEvent.location),1),a.selectedEvent.location_details?(o(),i("span",me,l(a.selectedEvent.location_details),1)):r("",!0)])])):r("",!0)]),e("div",ve,[t[14]||(t[14]=e("h6",null,"About This Event",-1)),e("p",null,l(a.selectedEvent?.description),1)]),a.selectedEvent?.additional_notes?(o(),i("div",ue,[t[15]||(t[15]=e("h6",null,"Additional Information",-1)),e("p",null,l(a.selectedEvent.additional_notes),1)])):r("",!0)])]),e("div",ge,[t[17]||(t[17]=e("button",{class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},[e("i",{class:"fas fa-times me-2"}),c(" Close ")],-1)),a.selectedEvent?.registration_link?(o(),i("button",fe,[...t[16]||(t[16]=[e("i",{class:"fas fa-user-plus me-2"},null,-1),c(" Register Now ",-1)])])):r("",!0)])])])])])}const Ee=g(E,[["render",_e],["__scopeId","data-v-dd6af8f5"]]);export{Ee as default};
