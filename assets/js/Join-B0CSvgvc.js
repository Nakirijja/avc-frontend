import{_ as x,i as F,a as o,o as l,l as g,b as s,j as h,w as b,m as n,d as c,n as m,q as w,s as u,v as f,t as d,y as k,F as y,p as M}from"./index-DSpDc2Ld.js";const A={name:"JoinPage",data(){return{showApplicationForm:!0,membershipForm:{full_name:"",email:"",phone:"",role:"chorister",experience:""},errors:{full_name:"",email:"",phone:"",role:""},loading:!1,successMessage:"",errorMessage:"",formTouched:!1}},computed:{experienceLength(){return this.membershipForm.experience?.length||0},isMembershipFormValid(){return this.membershipForm.full_name?.trim().length>=2&&this.membershipForm.email?.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)&&this.membershipForm.phone?.trim().length>=10&&this.membershipForm.role}},methods:{validateField(t){switch(this.formTouched=!0,t){case"full_name":this.errors.full_name=this.membershipForm.full_name?.trim().length>=2?"":"Full name must be at least 2 characters long";break;case"email":const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.errors.email=e.test(this.membershipForm.email)?"":"Please enter a valid email address";break;case"phone":this.errors.phone=this.membershipForm.phone?.trim().length>=10?"":"Please enter a valid phone number";break;case"role":this.errors.role=this.membershipForm.role?"":"Please select a role";break}},async submitMembershipApplication(){if(this.formTouched=!0,Object.keys(this.membershipForm).forEach(t=>{t!=="experience"&&this.validateField(t)}),!this.isMembershipFormValid){this.errorMessage="Please fix the errors in the form before submitting.";return}this.loading=!0,this.successMessage="",this.errorMessage="";try{const t=await M.membership.submitApplication(this.membershipForm);console.log("Membership application response:",t),t&&t.status>=200&&t.status<300?(this.successMessage="Your choir membership application has been submitted successfully! Our team will review it and contact you soon.",this.resetForm()):this.errorMessage="Failed to submit application. Please try again."}catch(t){console.error("Membership application error:",t),this.handleApiError(t)}finally{this.loading=!1}},handleApiError(t){if(this.errors={full_name:"",email:"",phone:"",role:""},t?.response?.data){const e=t.response.data;e.errors?(Object.keys(e.errors).forEach(p=>{this.errors.hasOwnProperty(p)&&(this.errors[p]=Array.isArray(e.errors[p])?e.errors[p][0]:e.errors[p])}),this.errorMessage="Please correct the errors in the form."):this.errorMessage=e.detail||e.message||e.error||"An error occurred while submitting your application."}else t?.request?this.errorMessage="Network error: Unable to reach server. Please check your connection.":this.errorMessage=t?.message||"An unexpected error occurred. Please try again."},resetForm(){this.membershipForm={full_name:"",email:"",phone:"",role:"chorister",experience:""},this.formTouched=!1,this.errors={full_name:"",email:"",phone:"",role:""}}}},_={class:"join-page"},C={class:"join-main py-5"},S={class:"container"},P={class:"row justify-content-center"},V={class:"col-lg-10"},j={class:"row g-5"},N={class:"col-lg-4"},T={class:"info-card"},q={class:"mt-4 text-center"},B={class:"col-lg-8"},X={class:"application-card"},E={class:"option-selection mb-4"},U={class:"alert alert-info"},D={class:"btn-group w-100",role:"group"},O={key:0},I={class:"row g-3"},J={class:"col-md-6"},L={key:0,class:"invalid-feedback"},R={class:"col-md-6"},W={key:0,class:"invalid-feedback"},Y={class:"col-md-6"},z={key:0,class:"invalid-feedback"},H={class:"col-md-6"},Q={key:0,class:"invalid-feedback"},G={class:"col-12"},K={class:"form-text"},Z={class:"submit-section mt-5 pt-4 border-top"},$={class:"d-flex justify-content-between align-items-center"},ee=["disabled"],se={key:1},ie={class:"text-center py-4"},te={class:"mt-3"},re={class:"text-muted"},oe={key:2,class:"alert alert-success mt-4",role:"alert"},le={class:"d-flex align-items-center"},ae={class:"mb-0"},ne={key:3,class:"alert alert-danger mt-4",role:"alert"},me={class:"d-flex align-items-center"},de={class:"mb-0"};function pe(t,e,p,ce,i,a){const v=F("router-link");return l(),o("div",_,[e[40]||(e[40]=g('<section class="join-header bg-primary text-white py-5" data-v-8f7e8529><div class="container" data-v-8f7e8529><div class="row align-items-center" data-v-8f7e8529><div class="col-lg-8" data-v-8f7e8529><h1 class="display-5 fw-bold mb-3" data-v-8f7e8529>Join Angels Voices Choir</h1><p class="lead mb-0" data-v-8f7e8529>Become part of our musical family and use your talent to worship and serve the community.</p></div><div class="col-lg-4 text-lg-end" data-v-8f7e8529><div class="header-icon" data-v-8f7e8529><i class="fas fa-music fa-3x" data-v-8f7e8529></i></div></div></div></div></section>',1)),s("section",C,[s("div",S,[s("div",P,[s("div",V,[s("div",j,[s("div",N,[s("div",T,[e[13]||(e[13]=g('<h3 class="h4 mb-4 text-primary" data-v-8f7e8529>Membership Details</h3><div class="info-item mb-4" data-v-8f7e8529><div class="info-icon" data-v-8f7e8529><i class="fas fa-users" data-v-8f7e8529></i></div><div class="info-details" data-v-8f7e8529><h5 data-v-8f7e8529>Who Can Join</h5><p class="mb-0" data-v-8f7e8529>Ages 7+, all voice types welcome. No prior choir experience required!</p></div></div><div class="info-item mb-4" data-v-8f7e8529><div class="info-icon" data-v-8f7e8529><i class="fas fa-calendar-alt" data-v-8f7e8529></i></div><div class="info-details" data-v-8f7e8529><h5 data-v-8f7e8529>Commitment</h5><p class="mb-0" data-v-8f7e8529>Weekly practices and participation in Sunday services &amp; special events</p></div></div><div class="info-item mb-4" data-v-8f7e8529><div class="info-icon" data-v-8f7e8529><i class="fas fa-heart" data-v-8f7e8529></i></div><div class="info-details" data-v-8f7e8529><h5 data-v-8f7e8529>Benefits</h5><ul class="list-unstyled mb-0" data-v-8f7e8529><li data-v-8f7e8529>• Vocal training</li><li data-v-8f7e8529>• Music theory lessons</li><li data-v-8f7e8529>• Community service</li><li data-v-8f7e8529>• Spiritual growth</li></ul></div></div><div class="quick-info mt-4 p-4 bg-light rounded" data-v-8f7e8529><h6 class="mb-3" data-v-8f7e8529>Quick Info</h6><div class="d-grid gap-2" data-v-8f7e8529><div class="d-flex justify-content-between" data-v-8f7e8529><span data-v-8f7e8529>Practice Days:</span><strong data-v-8f7e8529>Thur &amp; Sat</strong></div><div class="d-flex justify-content-between" data-v-8f7e8529><span data-v-8f7e8529>Time:</span><strong data-v-8f7e8529>6-8 PM / 4PM-7PM</strong></div><div class="d-flex justify-content-between" data-v-8f7e8529><span data-v-8f7e8529>Location:</span><strong data-v-8f7e8529>AVC Choir Office</strong></div></div></div>',5)),s("div",q,[e[12]||(e[12]=s("p",{class:"small text-muted mb-2"},"Already have an account?",-1)),h(v,{to:"/auth/login",class:"btn btn-outline-primary btn-sm"},{default:b(()=>[...e[11]||(e[11]=[n(" Sign In Here ",-1)])]),_:1})])])]),s("div",B,[s("div",X,[e[39]||(e[39]=s("div",{class:"card-header bg-transparent border-0 pb-3"},[s("h3",{class:"h4 mb-2"},"Choir Membership Application"),s("p",{class:"text-muted mb-0"},"Fill out this form to apply for choir membership. Our team will review your application and contact you.")],-1)),s("div",E,[s("div",U,[e[14]||(e[14]=s("h6",{class:"alert-heading mb-3"},"Choose Your Path:",-1)),s("div",D,[s("button",{type:"button",class:m(["btn",i.showApplicationForm?"btn-primary":"btn-outline-primary"]),onClick:e[0]||(e[0]=r=>i.showApplicationForm=!0)}," Apply for Membership ",2),s("button",{type:"button",class:m(["btn",i.showApplicationForm?"btn-outline-primary":"btn-primary"]),onClick:e[1]||(e[1]=r=>i.showApplicationForm=!1)}," Create Account First ",2)])])]),i.showApplicationForm?(l(),o("div",O,[s("form",{onSubmit:e[10]||(e[10]=w((...r)=>a.submitMembershipApplication&&a.submitMembershipApplication(...r),["prevent"])),novalidate:"",class:m(["needs-validation",{"was-validated":i.formTouched}])},[e[26]||(e[26]=s("div",{class:"section-title mb-4"},[s("h5",{class:"text-primary"},[s("i",{class:"fas fa-user me-2"}),n("Personal Information ")])],-1)),s("div",I,[s("div",J,[e[15]||(e[15]=s("label",{for:"full_name",class:"form-label"},"Full Name *",-1)),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.membershipForm.full_name=r),type:"text",id:"full_name",class:m(["form-control",{"is-invalid":i.errors.full_name}]),required:"",onBlur:e[3]||(e[3]=r=>a.validateField("full_name"))},null,34),[[f,i.membershipForm.full_name]]),i.errors.full_name?(l(),o("div",L,d(i.errors.full_name),1)):c("",!0)]),s("div",R,[e[16]||(e[16]=s("label",{for:"email",class:"form-label"},"Email Address *",-1)),u(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>i.membershipForm.email=r),type:"email",id:"email",class:m(["form-control",{"is-invalid":i.errors.email}]),required:"",onBlur:e[5]||(e[5]=r=>a.validateField("email"))},null,34),[[f,i.membershipForm.email]]),i.errors.email?(l(),o("div",W,d(i.errors.email),1)):c("",!0)]),s("div",Y,[e[17]||(e[17]=s("label",{for:"phone",class:"form-label"},"Phone Number *",-1)),u(s("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>i.membershipForm.phone=r),type:"tel",id:"phone",class:m(["form-control",{"is-invalid":i.errors.phone}]),required:"",onBlur:e[7]||(e[7]=r=>a.validateField("phone")),placeholder:"+256 XXX XXX XXX"},null,34),[[f,i.membershipForm.phone]]),i.errors.phone?(l(),o("div",z,d(i.errors.phone),1)):c("",!0)]),s("div",H,[e[19]||(e[19]=s("label",{for:"role",class:"form-label"},"Desired Role *",-1)),u(s("select",{"onUpdate:modelValue":e[8]||(e[8]=r=>i.membershipForm.role=r),id:"role",class:m(["form-select",{"is-invalid":i.errors.role}]),required:""},[...e[18]||(e[18]=[s("option",{value:""},"Select your role",-1),s("option",{value:"chorister"},"Chorister (Singer)",-1),s("option",{value:"instrumentalist"},"Instrumentalist",-1),s("option",{value:"supporter"},"Supporter/Volunteer",-1)])],2),[[k,i.membershipForm.role]]),i.errors.role?(l(),o("div",Q,d(i.errors.role),1)):c("",!0)]),s("div",G,[e[20]||(e[20]=s("label",{for:"experience",class:"form-label"},"Musical Background & Experience",-1)),u(s("textarea",{"onUpdate:modelValue":e[9]||(e[9]=r=>i.membershipForm.experience=r),id:"experience",rows:"4",class:"form-control",placeholder:"Tell us about your musical experience, instruments you play, voice type (if known), or why you want to join our choir..."},null,512),[[f,i.membershipForm.experience]]),s("div",K,[s("span",{class:m({"text-danger":a.experienceLength>1e3})},d(a.experienceLength)+"/1000 characters ",3)])])]),s("div",Z,[s("div",$,[s("button",{type:"submit",class:"btn btn-primary btn-lg px-5",disabled:i.loading||!a.isMembershipFormValid},[i.loading?(l(),o(y,{key:0},[e[21]||(e[21]=s("span",{class:"spinner-border spinner-border-sm me-2",role:"status"},null,-1)),e[22]||(e[22]=n(" Submitting... ",-1))],64)):(l(),o(y,{key:1},[e[23]||(e[23]=s("i",{class:"fas fa-paper-plane me-2"},null,-1)),e[24]||(e[24]=n(" Submit Application ",-1))],64))],8,ee),e[25]||(e[25]=s("small",{class:"text-muted"},"* Required fields",-1))])])],34)])):(l(),o("div",se,[s("div",ie,[e[30]||(e[30]=s("i",{class:"fas fa-user-plus fa-3x text-primary mb-3"},null,-1)),e[31]||(e[31]=s("h4",null,"Create an Account First",-1)),e[32]||(e[32]=s("p",{class:"text-muted mb-4"}," Create a user account to access all choir features and manage your membership. ",-1)),h(v,{to:"/auth/register",class:"btn btn-primary btn-lg"},{default:b(()=>[...e[27]||(e[27]=[s("i",{class:"fas fa-user-plus me-2"},null,-1),n(" Create Account ",-1)])]),_:1}),s("div",te,[s("small",re,[e[29]||(e[29]=n(" Already have an account? ",-1)),h(v,{to:"/auth/login",class:"text-decoration-none"},{default:b(()=>[...e[28]||(e[28]=[n("Sign in here",-1)])]),_:1})])])])])),i.successMessage?(l(),o("div",oe,[s("div",le,[e[36]||(e[36]=s("i",{class:"fas fa-check-circle fa-lg me-3"},null,-1)),s("div",null,[e[33]||(e[33]=s("h5",{class:"alert-heading mb-1"},"Application Submitted Successfully!",-1)),s("p",ae,d(i.successMessage),1),e[34]||(e[34]=s("hr",null,null,-1)),e[35]||(e[35]=s("p",{class:"mb-0 small"},[s("strong",null,"Next Steps:"),n(" We'll review your application and contact you within 3-5 business days. ")],-1))])])])):c("",!0),i.errorMessage?(l(),o("div",ne,[s("div",me,[e[38]||(e[38]=s("i",{class:"fas fa-exclamation-triangle fa-lg me-3"},null,-1)),s("div",null,[e[37]||(e[37]=s("h5",{class:"alert-heading mb-1"},"Unable to Submit Application",-1)),s("p",de,d(i.errorMessage),1)])])])):c("",!0)])])])])])])])])}const fe=x(A,[["render",pe],["__scopeId","data-v-8f7e8529"]]);export{fe as default};
