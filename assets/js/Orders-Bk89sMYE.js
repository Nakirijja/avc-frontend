import{_ as y,i as h,a as l,o as r,b as t,j as p,w as f,m as d,F as _,r as b,t as o,n as g,d as v,x}from"./index-DSpDc2Ld.js";const w={name:"OrdersPage",data(){return{orders:[]}},methods:{formatPrice(n){return parseFloat(n).toLocaleString("en-US")},formatDate(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},getStatusColor(n){return{pending:"warning",paid:"info",shipped:"primary",completed:"success",cancelled:"danger"}[n]||"secondary"},getOrderSubtotal(n){return n.items.reduce((s,c)=>s+c.price*c.quantity,0)},loadOrders(){const n=localStorage.getItem("avc_shop_orders");n&&(this.orders=JSON.parse(n))}},mounted(){if(!x.isAuthenticated()){this.$router.push("/auth/login");return}this.loadOrders()}},S={class:"orders-container"},O={class:"container py-5"},k={class:"row"},P={class:"col-12"},j={class:"d-flex justify-content-between align-items-center mb-4"},U={key:0,class:"text-center py-5"},C={key:1,class:"orders-list"},N={class:"card-header bg-light d-flex justify-content-between align-items-center"},D={class:"card-title mb-0"},G={class:"text-muted"},V={class:"card-body"},X={class:"row"},B={class:"col-md-8"},F=["src","alt"],I={class:"mb-0 fw-bold"},L={class:"mb-0 text-muted"},T={class:"col-md-4"},q={class:"order-summary"},M={class:"d-flex justify-content-between"},Y={class:"d-flex justify-content-between"},z={class:"d-flex justify-content-between"},A={class:"d-flex justify-content-between fw-bold"},E={class:"text-primary"},H={class:"card-footer bg-white"},J={class:"row"},Q={class:"col-md-6"},K={class:"text-muted"},R={class:"col-md-6 text-end"},W={key:0,class:"btn btn-primary btn-sm"};function Z(n,s,c,$,u,a){const m=h("router-link");return r(),l("div",S,[t("div",O,[t("div",k,[t("div",P,[t("div",j,[s[1]||(s[1]=t("h1",{class:"h3 mb-0"},"My Orders",-1)),p(m,{to:"/shop",class:"btn btn-outline-primary"},{default:f(()=>[...s[0]||(s[0]=[t("i",{class:"fas fa-arrow-left me-2"},null,-1),d("Back to Shop ",-1)])]),_:1})]),u.orders.length===0?(r(),l("div",U,[s[3]||(s[3]=t("i",{class:"fas fa-box-open fa-4x text-muted mb-4"},null,-1)),s[4]||(s[4]=t("h3",{class:"text-muted"},"No Orders Yet",-1)),s[5]||(s[5]=t("p",{class:"text-muted mb-4"},"You haven't placed any orders yet.",-1)),p(m,{to:"/shop",class:"btn btn-primary btn-lg"},{default:f(()=>[...s[2]||(s[2]=[d(" Start Shopping ",-1)])]),_:1})])):(r(),l("div",C,[(r(!0),l(_,null,b(u.orders,e=>(r(),l("div",{key:e.id,class:"card mb-4"},[t("div",N,[t("div",null,[t("h5",D,"Order #"+o(e.id),1),t("small",G,o(a.formatDate(e.timestamp)),1)]),t("span",{class:g(`badge bg-${a.getStatusColor(e.status)}`)},o(e.status),3)]),t("div",V,[t("div",X,[t("div",B,[s[6]||(s[6]=t("h6",null,"Items:",-1)),(r(!0),l(_,null,b(e.items,i=>(r(),l("div",{key:i.id,class:"d-flex align-items-center mb-2"},[t("img",{src:i.image,alt:i.name,class:"me-3",style:{width:"50px",height:"50px","object-fit":"cover"}},null,8,F),t("div",null,[t("p",I,o(i.name),1),t("p",L,"Qty: "+o(i.quantity)+" Ã— UGX "+o(a.formatPrice(i.price)),1)])]))),128))]),t("div",T,[t("div",q,[s[11]||(s[11]=t("h6",null,"Order Summary",-1)),t("div",M,[s[7]||(s[7]=t("span",null,"Subtotal:",-1)),t("span",null,"UGX "+o(a.formatPrice(a.getOrderSubtotal(e))),1)]),t("div",Y,[s[8]||(s[8]=t("span",null,"Shipping:",-1)),t("span",null,"UGX "+o(a.formatPrice(e.shipping||5e3)),1)]),t("div",z,[s[9]||(s[9]=t("span",null,"Tax:",-1)),t("span",null,"UGX "+o(a.formatPrice(e.tax||0)),1)]),s[12]||(s[12]=t("hr",null,null,-1)),t("div",A,[s[10]||(s[10]=t("span",null,"Total:",-1)),t("span",E,"UGX "+o(a.formatPrice(e.payment.amount)),1)])])])])]),t("div",H,[t("div",J,[t("div",Q,[t("small",K," Payment Method: "+o(e.payment.method.toUpperCase()),1)]),t("div",R,[s[14]||(s[14]=t("button",{class:"btn btn-outline-primary btn-sm me-2"},[t("i",{class:"fas fa-eye me-1"}),d("View Details ")],-1)),e.status==="pending"?(r(),l("button",W,[...s[13]||(s[13]=[t("i",{class:"fas fa-credit-card me-1"},null,-1),d("Pay Now ",-1)])])):v("",!0)])])])]))),128))]))])])])])}const st=y(w,[["render",Z],["__scopeId","data-v-cc293053"]]);export{st as default};
